<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.4.3/css/ol.css"
      type="text/css"
    />
    <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.4.3/build/ol.js"></script>
    <link rel="stylesheet" href="/finalstyle.css" />
    <title>World Countries / Territories / Areas</title>
  </head>

  <body></body>
  <!-- https://i7.cs.hku.hk/~c3322a/2021_22/ASS2/images/ch.svg -->

  <header>
    <h1>Countries / Territories / Areas</h1>
  </header>

  <div id="map"></div>

  <script>
    var gmap = new ol.Map({
      target: "map",
      layers: [
        new ol.layer.Tile({
          source: new ol.source.OSM(),
        }),
      ],
      view: new ol.View({
        center: ol.proj.fromLonLat([114.2, 22.28]),
        zoom: 11,
      }),
    });

    function geoFindMe() {
      var output = document.getElementById("out");

      output.innerHTML = "<p>Locating…</p>";

      if (!navigator.geolocation) {
        output.innerHTML =
          "<p>Geolocation is not supported by your browser</p>";
        return;
      }

      function success(position) {
        var pos = {
          lat: position.coords.latitude,
          lng: position.coords.longitude,
        };

        output.innerHTML =
          "<p>Latitude is " +
          pos.lat +
          "° <br>Longitude is " +
          pos.lng +
          "°</p>";

        gmap.setView(
          new ol.View({
            center: ol.proj.fromLonLat([pos.lng, pos.lat]),
            zoom: 15,
          })
        );
      }

      function error() {
        output.innerHTML = "Unable to retrieve your location";
      }

      navigator.geolocation.getCurrentPosition(success, error);
    }
  </script>

  <section class="main-content">
    <div class="countryGrid"></div>
  </section>

  <script async="" src="finalscript.js"></script>
</html>
